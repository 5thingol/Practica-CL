module Rain;


define RainDrop "M16,0
     C 16,0 0,24 0,33
     C 0,42 7,49 16,49
     C 25,49 32,42 32,33
     C 32,24 16,0 16,0" color="blue",stroke-width=2;

func CreateRain(nParticles, x0, y0, x1, y1) 
	
	for (i in 1:nParticles)
		drop = Create RainDrop {rand(x0,x1),rand(y0,y1)} width=10,height=10,color="blue";
		@begin=rand(0,3), duration=rand(1,3);
		t = Translate drop {0,100};
		@begin=3;
		Destroy drop;
	endfor
	

	//CreateParticleSystem(drop,t,10,10,1,400,1);
	//@begin=0;
	//Destroy drop;
	
endfunc